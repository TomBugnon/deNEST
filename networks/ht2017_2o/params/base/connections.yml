network:
  topology:
    params:
      connections:



        ########################################################################
        #################        Thalamic / reticular INTRA        #############
        ########################################################################

        ####################################
        ######## Retina to thalamus ########
        ####################################

        # Retina to Tp exc and Tp inh
        - source_layer: retina
          source_population: parrot_neuron
          target_layer: Tp_layer
          connection: retino_thalamic

        ####################################
        #### Intra thalamic/reticula #######
        ####################################

        ### Primary Intra-thalamic/reticula ###
        # Tp exc to Rp AMPA:
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Rp_layer
          connection: Tp_Rp_AMPA
        # Tp inh to Tp exc and Tp inh GABA_A
        - source_layer: Tp_layer
          source_population: Tp_inh
          target_layer: Tp_layer
          connection: Tp_Tp_GABA_A
        # Rp to Tp exc and Tp inh GABA_A
        - source_layer: Rp_layer
          source_population: Rp
          target_layer: Tp_layer
          connection: Rp_Tp_GABA_A
        # Rp to Tp exc GABA_B
        - source_layer: Rp_layer
          source_population: Rp
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: Rp_Tp_GABA_B
        # Rp to Rp GABA_B
        - source_layer: Rp_layer
          source_population: Rp
          target_layer: Rp_layer
          connection: Rp_Rp_GABA_B

        ### Secondary intra-thalamic/reticula ###
        # Ts exc to Rs AMPA
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Rs_layer
          connection: Ts_Rs_AMPA
        # Ts inh to Ts exc and Ts inh GABA_A
        - source_layer: Ts_layer
          source_population: Tp_inh
          target_layer: Ts_layer
          connection: Ts_Ts_GABA_A
        # Rs to Ts exc and Ts inh GABA_A
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Ts_layer
          connection: Rs_Ts_GABA_A
        # Rs to Ts exc GABA_B
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Ts_layer
          target_population: Tp_exc
          connection: Rs_Ts_GABA_B
        # Rs to Ts inh GABA_B (!! : no equivalent for Rp/Tp in Hans' code)
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Ts_layer
          target_population: Tp_inh
          connection: Rs_Ts_GABA_B
        # Rs to Rs GABA_B
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Rs_layer
          connection: Rs_Rs_GABA_B


        ########################################################################
        #############     Thalamico-cortical and cortico-thalamic      #########
        ########################################################################

        ####################################
        ######### Thalamo-cortical #########
        ####################################

        ### Primary ( Tp to Vp ) ###
        # Rectangular to L4
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_vertical
          target_population: Vp_exc
          connection: Tp_vertical_to_L4
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_horizontal
          target_population: Vp_exc
          connection: Tp_horizontal_to_L4
        # Rectangular to L56
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_vertical
          target_population: Vp_exc
          connection: Tp_vertical_to_L56
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_horizontal
          target_population: Vp_exc
          connection: Tp_horizontal_to_L56
        # Diffuse to L4
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_vertical
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_horizontal
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        # Diffuse to L56
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_vertical
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_horizontal
          target_population: Vp_inh
          connection: Tp_Vp_diffuse


        ### Secondary ( Ts to Vs ) ###

        # Ts exc to Vs L4
        # Ts exc to vertical L4 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L4_vertical
          connection: Ts_to_Vs_L4
        # Ts exc to horizontal L4 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L4_horizontal
          connection: Ts_to_Vs_L4
        # Ts exc to cross L4 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L4_cross
          connection: Ts_to_Vs_L4

        # Ts exc to Vs L56
        # Ts exc to vertical L56 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L56_vertical
          connection: Ts_to_Vs_L56
        # Ts exc to horizontal L56 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L56_horizontal
          connection: Ts_to_Vs_L56
        # Ts exc to cross L56 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L56_cross
          connection: Ts_to_Vs_L56


        ####################################
        ######### Cortico-Thalamic #########
        ####################################

        ### Primary: Vp to Tp and Rp ###
        # Vp L56 all orientations to Tp exc + inh
        - source_layer: Vp_L56_vertical
          source_population: Vp_exc
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: cortico_thalamic_p
        - source_layer: Vp_L56_horizontal
          source_population: Vp_exc
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: cortico_thalamic_p
        # cortico_reticular
        # Vp L56 all orientations to Rp
        - source_layer: Vp_L56_vertical
          source_population: Vp_exc
          target_layer: Rp_layer
          connection: cortico_reticular_p
        - source_layer: Vp_L56_horizontal
          source_population: Vp_exc
          target_layer: Rp_layer
          connection: cortico_reticular_p


        ### Secondary: Vs to Ts and Rs ###
        # Vs L56 all orientations to Ts exc + inh
        - source_layer: Vs_L56_vertical
          source_population: Vs_exc
          target_layer: Ts_layer
          connection: cortico_thalamic_s
        - source_layer: Vs_L56_horizontal
          source_population: Vs_exc
          target_layer: Ts_layer
          connection: cortico_thalamic_s
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Ts_layer
          connection: cortico_thalamic_s
        # cortico_reticular
        # Vs L56 all orientations to Rs
        - source_layer: Vs_L56_vertical
          source_population: Vs_exc
          target_layer: Rs_layer
          connection: cortico_reticular_s
        - source_layer: Vs_L56_horizontal
          source_population: Vs_exc
          target_layer: Rs_layer
          connection: cortico_reticular_s
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Rs_layer
          connection: cortico_reticular_s

        ### Crossed: Vp to Ts and Rs ###
        # Vp L56 all orientations to Ts exc and inh
        - source_layer: Vp_L56_vertical
          source_population: Vp_exc
          target_layer: Ts_layer
          connection: Vp_Ts_cortico_thalamic
        - source_layer: Vp_L56_horizontal
          source_population: Vp_exc
          target_layer: Ts_layer
          connection: Vp_Ts_cortico_thalamic



        ########################################################################
        ##########################     Intra-areal       #######################
        ########################################################################


        ####################################
        ###### Intra-areal Primary #########
        ####################################

        ## intralaminar_AMPA_Vp. Horizontal and vertical (full selectivity)
        # vertical excitatory to vertical excitatory and vertical inhibitory
        - source_layer: Vp_L23_vertical
          source_population: Vp_exc
          target_layer: Vp_L23_vertical
          connection: intralaminar_AMPA_Vp
        - source_layer: Vp_L4_vertical
          source_population: Vp_exc
          target_layer: Vp_L4_vertical
          connection: intralaminar_AMPA_L4_Vp
        - source_layer: Vp_L56_vertical
          source_population: Vp_exc
          target_layer: Vp_L56_vertical
          connection: intralaminar_AMPA_Vp
        # horizontal exc to horizontal exc and horizontal inh
        - source_layer: Vp_L23_horizontal
          source_population: Vp_exc
          target_layer: Vp_L23_horizontal
          connection: intralaminar_AMPA_Vp
        - source_layer: Vp_L4_horizontal
          source_population: Vp_exc
          target_layer: Vp_L4_horizontal
          connection: intralaminar_AMPA_L4_Vp
        - source_layer: Vp_L56_horizontal
          source_population: Vp_exc
          target_layer: Vp_L56_horizontal
          connection: intralaminar_AMPA_Vp

        ## intralaminar_NMDA
        # L23 exc to L23 exc (hor and vertical, full selectivity)
        - source_layer: Vp_L23_horizontal
          source_population: Vp_exc
          target_layer: Vp_L23_horizontal
          target_population: Vp_exc
          connection: intralaminar_NMDA_Vp
        - source_layer: Vp_L23_vertical
          source_population: Vp_exc
          target_layer: Vp_L23_vertical
          target_population: Vp_exc
          connection: intralaminar_NMDA_Vp

        ## interlaminar_AMPA
        # L23 exc to L56_exc and L56_inh (hor and vertical, full selectivity)
        - source_layer: Vp_L23_vertical
          source_population: Vp_exc
          target_layer: Vp_L56_vertical
          connection: interlaminar_AMPA_L23_to_L56_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_exc
          target_layer: Vp_L56_horizontal
          connection: interlaminar_AMPA_L23_to_L56_Vp
        # L4 exc to L2_exc and L2_inh (hor and vertical, full selectivity)
        - source_layer: Vp_L4_vertical
          source_population: Vp_exc
          target_layer: Vp_L23_vertical
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L4_horizontal
          source_population: Vp_exc
          target_layer: Vp_L23_horizontal
          connection: interlaminar_AMPA_Vp
        # L56 exc to L23_exc and L23_inh (hor and vertical, full selectivity)
        - source_layer: Vp_L56_vertical
          source_population: Vp_exc
          target_layer: Vp_L23_vertical
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_horizontal
          source_population: Vp_exc
          target_layer: Vp_L23_horizontal
          connection: interlaminar_AMPA_Vp
        # L56 exc to L4_exc and L4_inh (hor and vertical, full selectivity)
        - source_layer: Vp_L56_vertical
          source_population: Vp_exc
          target_layer: Vp_L4_vertical
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_horizontal
          source_population: Vp_exc
          target_layer: Vp_L4_horizontal
          connection: interlaminar_AMPA_Vp

        ## Interlaminar NMDA
        # L23 exc to L56 exc, full selectivity
        - source_layer: Vp_L23_vertical
          source_population: Vp_exc
          target_layer: Vp_L56_vertical
          target_population: Vp_exc
          connection: interlaminar_NMDA_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_exc
          target_layer: Vp_L56_horizontal
          target_population: Vp_exc
          connection: interlaminar_NMDA_Vp

        ## Intralaminar GABA_A
        # L23
        # L23 inh to L23 exc (no selectivity)
        - source_layer: Vp_L23_vertical
          source_population: Vp_inh
          target_layer: Vp_L23_vertical
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_vertical
          source_population: Vp_inh
          target_layer: Vp_L23_horizontal
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_inh
          target_layer: Vp_L23_horizontal
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_inh
          target_layer: Vp_L23_vertical
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # L23 inh to L23 inh (no selectivity)
        - source_layer: Vp_L23_vertical
          source_population: Vp_inh
          target_layer: Vp_L23_vertical
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_vertical
          source_population: Vp_inh
          target_layer: Vp_L23_horizontal
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_inh
          target_layer: Vp_L23_horizontal
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_inh
          target_layer: Vp_L23_vertical
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # L4
        # L4 inh to L4 exc (no selectivity)
        - source_layer: Vp_L4_vertical
          source_population: Vp_inh
          target_layer: Vp_L4_vertical
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_vertical
          source_population: Vp_inh
          target_layer: Vp_L4_horizontal
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_horizontal
          source_population: Vp_inh
          target_layer: Vp_L4_horizontal
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_horizontal
          source_population: Vp_inh
          target_layer: Vp_L4_vertical
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # L4 inh to L4 inh (no selectivity)
        - source_layer: Vp_L4_vertical
          source_population: Vp_inh
          target_layer: Vp_L4_vertical
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_vertical
          source_population: Vp_inh
          target_layer: Vp_L4_horizontal
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_horizontal
          source_population: Vp_inh
          target_layer: Vp_L4_horizontal
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_horizontal
          source_population: Vp_inh
          target_layer: Vp_L4_vertical
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # L56
        # L56 inh to L56 exc (no selectivity)
        - source_layer: Vp_L56_vertical
          source_population: Vp_inh
          target_layer: Vp_L56_vertical
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_vertical
          source_population: Vp_inh
          target_layer: Vp_L56_horizontal
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_horizontal
          source_population: Vp_inh
          target_layer: Vp_L56_horizontal
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_horizontal
          source_population: Vp_inh
          target_layer: Vp_L56_vertical
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # L56 inh to L56 inh (no selectivity)
        - source_layer: Vp_L56_vertical
          source_population: Vp_inh
          target_layer: Vp_L56_vertical
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_vertical
          source_population: Vp_inh
          target_layer: Vp_L56_horizontal
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_horizontal
          source_population: Vp_inh
          target_layer: Vp_L56_horizontal
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_horizontal
          source_population: Vp_inh
          target_layer: Vp_L56_vertical
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp

        ## Interlaminar GABA_B
        # From L23_inh to all layer exc, full selectivity
        - source_layer: Vp_L23_vertical
          source_population: Vp_inh
          target_layer: Vp_L23_vertical
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_inh
          target_layer: Vp_L23_horizontal
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_vertical
          source_population: Vp_inh
          target_layer: Vp_L4_vertical
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_inh
          target_layer: Vp_L4_horizontal
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_vertical
          source_population: Vp_inh
          target_layer: Vp_L56_vertical
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_horizontal
          source_population: Vp_inh
          target_layer: Vp_L56_horizontal
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp


        ####################################
        ###### Intra-areal secondary #######
        ####################################

        ## intralaminar_AMPA. Horizontal vertical and cross (full selectivity)
        # vertical excitatory to vertical excitatory and vertical inhibitory
        - source_layer: Vs_L23_vertical
          source_population: Vs_exc
          target_layer: Vs_L23_vertical
          connection: intralaminar_AMPA_Vs
        - source_layer: Vs_L4_vertical
          source_population: Vs_exc
          target_layer: Vs_L4_vertical
          connection: intralaminar_AMPA_L4_Vs
        - source_layer: Vs_L56_vertical
          source_population: Vs_exc
          target_layer: Vs_L56_vertical
          connection: intralaminar_AMPA_Vs
        # horizontal exc to horizontal exc and horizontal inh
        - source_layer: Vs_L23_horizontal
          source_population: Vs_exc
          target_layer: Vs_L23_horizontal
          connection: intralaminar_AMPA_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_exc
          target_layer: Vs_L4_horizontal
          connection: intralaminar_AMPA_L4_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_exc
          target_layer: Vs_L56_horizontal
          connection: intralaminar_AMPA_Vs
        # cross exc to cross exc and cross inh
        - source_layer: Vs_L23_cross
          source_population: Vs_exc
          target_layer: Vs_L23_cross
          connection: intralaminar_AMPA_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_exc
          target_layer: Vs_L4_cross
          connection: intralaminar_AMPA_L4_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Vs_L56_cross
          connection: intralaminar_AMPA_Vs

        ## intralaminar_NMDA
        # L23 exc to L23 exc (full selectivity)
        - source_layer: Vs_L23_vertical
          source_population: Vs_exc
          target_layer: Vs_L23_vertical
          target_population: Vs_exc
          connection: intralaminar_NMDA_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_exc
          target_layer: Vs_L23_horizontal
          target_population: Vs_exc
          connection: intralaminar_NMDA_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_exc
          target_layer: Vs_L23_cross
          target_population: Vs_exc
          connection: intralaminar_NMDA_Vs


        ## interlaminar_AMPA
        # L23 exc to L56_exc and L56_inh (full selectivity)
        - source_layer: Vs_L23_vertical
          source_population: Vs_exc
          target_layer: Vs_L56_vertical
          connection: interlaminar_AMPA_L23_to_L56_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_exc
          target_layer: Vs_L56_horizontal
          connection: interlaminar_AMPA_L23_to_L56_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_exc
          target_layer: Vs_L56_cross
          connection: interlaminar_AMPA_L23_to_L56_Vs
        # L4 exc to L2_exc and L2_inh (full selectivity)
        - source_layer: Vs_L4_vertical
          source_population: Vs_exc
          target_layer: Vs_L23_vertical
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_exc
          target_layer: Vs_L23_horizontal
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_exc
          target_layer: Vs_L23_cross
          connection: interlaminar_AMPA_Vs
        # L56 exc to L23_exc and L23_inh (full selectivity)
        - source_layer: Vs_L56_vertical
          source_population: Vs_exc
          target_layer: Vs_L23_vertical
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_exc
          target_layer: Vs_L23_horizontal
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Vs_L23_cross
          connection: interlaminar_AMPA_Vs
        # L56 exc to L4_exc and L4_inh (full selectivity)
        - source_layer: Vs_L56_vertical
          source_population: Vs_exc
          target_layer: Vs_L4_vertical
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_exc
          target_layer: Vs_L4_horizontal
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Vs_L4_cross
          connection: interlaminar_AMPA_Vs

        ## Interlaminar NMDA
        # L23 exc to L56 exc, full selectivity
        - source_layer: Vs_L23_vertical
          source_population: Vs_exc
          target_layer: Vs_L56_vertical
          target_population: Vs_exc
          connection: interlaminar_NMDA_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_exc
          target_layer: Vs_L56_horizontal
          target_population: Vs_exc
          connection: interlaminar_NMDA_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_exc
          target_layer: Vs_L56_cross
          target_population: Vs_exc
          connection: interlaminar_NMDA_Vs

        ## Intralaminar GABA_A
        # L23
        # L23 inh to L23 exc (no selectivity)
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L23_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L23_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L23_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L23_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L23_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L23_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L23_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L23_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L23_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        # L23 inh to L23 inh (no selectivity
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L23_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L23_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L23_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L23_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L23_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L23_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L23_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L23_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L23_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        # L4
        # L4 inh to L4 exc (no selectivity)
        - source_layer: Vs_L4_vertical
          source_population: Vs_inh
          target_layer: Vs_L4_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_vertical
          source_population: Vs_inh
          target_layer: Vs_L4_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_vertical
          source_population: Vs_inh
          target_layer: Vs_L4_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_inh
          target_layer: Vs_L4_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_inh
          target_layer: Vs_L4_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_inh
          target_layer: Vs_L4_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_inh
          target_layer: Vs_L4_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_inh
          target_layer: Vs_L4_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_inh
          target_layer: Vs_L4_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        # L4 inh to L4 inh (no selectivity)
        - source_layer: Vs_L4_vertical
          source_population: Vs_inh
          target_layer: Vs_L4_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_vertical
          source_population: Vs_inh
          target_layer: Vs_L4_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_vertical
          source_population: Vs_inh
          target_layer: Vs_L4_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_inh
          target_layer: Vs_L4_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_inh
          target_layer: Vs_L4_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_horizontal
          source_population: Vs_inh
          target_layer: Vs_L4_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_inh
          target_layer: Vs_L4_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_inh
          target_layer: Vs_L4_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_cross
          source_population: Vs_inh
          target_layer: Vs_L4_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        # L56
        # L56 inh to L56 exc (no selectivity)
        - source_layer: Vs_L56_vertical
          source_population: Vs_inh
          target_layer: Vs_L56_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_vertical
          source_population: Vs_inh
          target_layer: Vs_L56_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_vertical
          source_population: Vs_inh
          target_layer: Vs_L56_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_inh
          target_layer: Vs_L56_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_inh
          target_layer: Vs_L56_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_inh
          target_layer: Vs_L56_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_inh
          target_layer: Vs_L56_vertical
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_inh
          target_layer: Vs_L56_horizontal
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_inh
          target_layer: Vs_L56_cross
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        # L56 inh to L56 inh (no selectivity)
        - source_layer: Vs_L56_vertical
          source_population: Vs_inh
          target_layer: Vs_L56_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_vertical
          source_population: Vs_inh
          target_layer: Vs_L56_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_vertical
          source_population: Vs_inh
          target_layer: Vs_L56_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_inh
          target_layer: Vs_L56_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_inh
          target_layer: Vs_L56_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_horizontal
          source_population: Vs_inh
          target_layer: Vs_L56_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_inh
          target_layer: Vs_L56_vertical
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_inh
          target_layer: Vs_L56_horizontal
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_cross
          source_population: Vs_inh
          target_layer: Vs_L56_cross
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs


        ## Interlaminar GABA_B
        # From L23_inh to all layer exc, full selectivity
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L23_vertical
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L23_horizontal
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L23_cross
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L4_vertical
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L4_horizontal
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L4_cross
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_vertical
          source_population: Vs_inh
          target_layer: Vs_L56_vertical
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_horizontal
          source_population: Vs_inh
          target_layer: Vs_L56_horizontal
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_cross
          source_population: Vs_inh
          target_layer: Vs_L56_cross
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs


        ########################################################################
        ##########################     Inter-areal       #######################
        ########################################################################

        ####################################
        ###### Primary to Secondary  #######
        ####################################

        #Vp_L23_horizontal to Vs_L4_horizontal excitatory and inhibitory
        - source_layer: Vp_L23_horizontal
          source_population: Vp_exc
          target_layer: Vs_L4_horizontal
          connection: Vp_Vs_forward_horizontal
        #Vp_L23_vertical to Vs_L4_vertical excitatory and inhibitory
        - source_layer: Vp_L23_vertical
          source_population: Vp_exc
          target_layer: Vs_L4_vertical
          connection: Vp_Vs_forward_vertical
        #Vp_L23_vertical and horizontal to Vs_L4_cross excitatory and inhibitory
        - source_layer: Vp_L23_vertical
          source_population: Vp_exc
          target_layer: Vs_L4_cross
          connection: Vp_Vs_forward_cross_from_vertical
        - source_layer: Vp_L23_horizontal
          source_population: Vp_exc
          target_layer: Vs_L4_cross
          connection: Vp_Vs_forward_cross_from_horizontal

        ####################################
        ###### Secondary to Primary  #######
        ####################################

        # Excitatory L56 to excitatory L23: NMDA
        # Vs_L56_vertical exc to Vp_L23_vertical exc
        - source_layer: Vs_L56_vertical
          source_population: Vs_exc
          target_layer: Vp_L23_vertical
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc
        # Vs_L56_horizontal exc to Vp_L23_horizontal exc
        - source_layer: Vs_L56_horizontal
          source_population: Vs_exc
          target_layer: Vp_L23_horizontal
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc
        # Vs_L56_cross exc to Vp_L23_horizontal exc
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Vp_L23_horizontal
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc
        # Vs_L56_cross exc to Vp_L23_vertical exc
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Vp_L23_vertical
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc

        # inhitatory L56 to inhibitory L23: AMPA
        # Vs_L56_vertical exc to Vp_L23_vertical inh
        - source_layer: Vs_L56_vertical
          source_population: Vs_exc
          target_layer: Vp_L23_vertical
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
        # Vs_L56_horizontal exc to Vp_L23_horizontal inh
        - source_layer: Vs_L56_horizontal
          source_population: Vs_exc
          target_layer: Vp_L23_horizontal
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
        # Vs_L56_cross exc to Vp_L23_horizontal inh
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Vp_L23_horizontal
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
        # Vs_L56_cross exc to Vp_L23_vertical inh
        - source_layer: Vs_L56_cross
          source_population: Vs_exc
          target_layer: Vp_L23_vertical
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
          params: {}
          nest_params: {}
