network:
  topology:
    params:
      connections:

        ########################################################################
        #################        Thalamic / reticular INTRA        #############
        ########################################################################

        ####################################
        ######## Retina to thalamus ########
        ####################################

        # Retina to Tp exc and Tp inh
        - source_layer: retina
          source_population: parrot_neuron
          target_layer: Tp_layer
          connection: retino_thalamic

        ####################################
        #### Intra thalamic/reticula #######
        ####################################

        ### Primary Intra-thalamic/reticula ###
        # Tp exc to Rp AMPA:
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Rp_layer
          connection: Tp_Rp_AMPA
        # Tp inh to Tp exc and Tp inh GABA_A
        - source_layer: Tp_layer
          source_population: Tp_inh
          target_layer: Tp_layer
          connection: Tp_Tp_GABA_A
        # Rp to Tp exc and Tp inh GABA_A
        - source_layer: Rp_layer
          source_population: Rp
          target_layer: Tp_layer
          connection: Rp_Tp_GABA_A
        # Rp to Tp exc GABA_B
        - source_layer: Rp_layer
          source_population: Rp
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: Rp_Tp_GABA_B
        # Rp to Rp GABA_B
        - source_layer: Rp_layer
          source_population: Rp
          target_layer: Rp_layer
          connection: Rp_Rp_GABA_B

        ### Secondary intra-thalamic/reticula ###
        # Ts exc to Rs AMPA
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Rs_layer
          connection: Ts_Rs_AMPA
        # Ts inh to Ts exc and Ts inh GABA_A
        - source_layer: Ts_layer
          source_population: Tp_inh
          target_layer: Ts_layer
          connection: Ts_Ts_GABA_A
        # Rs to Ts exc and Ts inh GABA_A
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Ts_layer
          connection: Rs_Ts_GABA_A
        # Rs to Ts exc GABA_B
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Ts_layer
          target_population: Tp_exc
          connection: Rs_Ts_GABA_B
        # Rs to Ts inh GABA_B (!! : no equivalent for Rp/Tp in Hans' code)
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Ts_layer
          target_population: Tp_inh
          connection: Rs_Ts_GABA_B
        # Rs to Rs GABA_B
        - source_layer: Rs_layer
          source_population: Rp
          target_layer: Rs_layer
          connection: Rs_Rs_GABA_B


        ########################################################################
        #############     Thalamico-cortical and cortico-thalamic      #########
        ########################################################################

        ####################################
        ######### Thalamo-cortical #########
        ####################################

        ### Primary ( Tp to Vp ) ###
        # Rectangular to L4
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P00
          target_population: Vp_exc
          connection: Tp_to_L4_P00
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P45
          target_population: Vp_exc
          connection: Tp_to_L4_P45
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P90
          target_population: Vp_exc
          connection: Tp_to_L4_P90
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P135
          target_population: Vp_exc
          connection: Tp_to_L4_P135
        # Rectangular to L56
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P00
          target_population: Vp_exc
          connection: Tp_to_L56_P00
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P45
          target_population: Vp_exc
          connection: Tp_to_L56_P45
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P90
          target_population: Vp_exc
          connection: Tp_to_L56_P90
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P135
          target_population: Vp_exc
          connection: Tp_to_L56_P135
        # Diffuse to L4
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P00
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P45
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P90
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L4_P135
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        # Diffuse to L56
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P00
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P45
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P90
          target_population: Vp_inh
          connection: Tp_Vp_diffuse
        - source_layer: Tp_layer
          source_population: Tp_exc
          target_layer: Vp_L56_P135
          target_population: Vp_inh
          connection: Tp_Vp_diffuse


        ### Secondary ( Ts to Vs ) ###

        # Ts exc to Vs L4
        # Ts exc to P+ L4 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L4_P+
          connection: Ts_to_Vs_L4
        # Ts exc to Px L4 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L4_Px
          connection: Ts_to_Vs_L4

        # Ts exc to Vs L56
        # Ts exc to P+ L56 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L56_P+
          connection: Ts_to_Vs_L56
        # Ts exc to Px L56 exc+inh
        - source_layer: Ts_layer
          source_population: Tp_exc
          target_layer: Vs_L56_Px
          connection: Ts_to_Vs_L56


        ####################################
        ######### Cortico-Thalamic #########
        ####################################

        ### Primary: Vp to Tp and Rp ###
        # Vp L56 all orientations to Tp exc + inh
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: cortico_thalamic_p
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: cortico_thalamic_p
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: cortico_thalamic_p
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Tp_layer
          target_population: Tp_exc
          connection: cortico_thalamic_p
        # cortico_reticular
        # Vp L56 all orientations to Rp
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Rp_layer
          connection: cortico_reticular_p
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Rp_layer
          connection: cortico_reticular_p
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Rp_layer
          connection: cortico_reticular_p
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Rp_layer
          connection: cortico_reticular_p

        ### Secondary: Vs to Ts and Rs ###
        # Vs L56 all orientations to Ts exc + inh
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Ts_layer
          connection: cortico_thalamic_s
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Ts_layer
          connection: cortico_thalamic_s
        # cortico_reticular
        # Vs L56 all orientations to Rs
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Rs_layer
          connection: cortico_reticular_s
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Rs_layer
          connection: cortico_reticular_s

        ### Crossed: Vp to Ts and Rs ###
        # Vp L56 all orientations to Ts exc and inh
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Ts_layer
          connection: Vp_Ts_cortico_thalamic
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Ts_layer
          connection: Vp_Ts_cortico_thalamic
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Ts_layer
          connection: Vp_Ts_cortico_thalamic
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Ts_layer
          connection: Vp_Ts_cortico_thalamic



        ########################################################################
        ##########################     Intra-areal       #######################
        ########################################################################


        ####################################
        ###### Intra-areal Primary #########
        ####################################

        ### intralaminar_AMPA. (partial selectivity)

        ## source population: P00 excitatory.
        # to: P00, excitatory and inhibitory
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          connection: intralaminar_AMPA_d0_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_exc
          target_layer: Vp_L4_P00
          connection: intralaminar_AMPA_L4_d0_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Vp_L56_P00
          connection: intralaminar_AMPA_d0_Vp
        # to: P45, excitatory and inhibitory
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_exc
          target_layer: Vp_L4_P45
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Vp_L56_P45
          connection: intralaminar_AMPA_d45_Vp
        # to: P135, excitatory and inhibitory
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_exc
          target_layer: Vp_L4_P135
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Vp_L56_P135
          connection: intralaminar_AMPA_d45_Vp
        # to: P90, excitatory and inhibitory
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          connection: intralaminar_AMPA_d90_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_exc
          target_layer: Vp_L4_P90
          connection: intralaminar_AMPA_L4_d90_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Vp_L56_P90
          connection: intralaminar_AMPA_d90_Vp

        ## source population: P45 excitatory.
        # to: P45, excitatory and inhibitory
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          connection: intralaminar_AMPA_d0_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_exc
          target_layer: Vp_L4_P45
          connection: intralaminar_AMPA_L4_d0_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Vp_L56_P45
          connection: intralaminar_AMPA_d0_Vp
        # to: P00, excitatory and inhibitory
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_exc
          target_layer: Vp_L4_P00
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Vp_L56_P00
          connection: intralaminar_AMPA_d45_Vp
        # to: P90, excitatory and inhibitory
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_exc
          target_layer: Vp_L4_P90
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Vp_L56_P90
          connection: intralaminar_AMPA_d45_Vp
        # to: P135, excitatory and inhibitory
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          connection: intralaminar_AMPA_d90_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_exc
          target_layer: Vp_L4_P135
          connection: intralaminar_AMPA_L4_d90_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Vp_L56_P135
          connection: intralaminar_AMPA_d90_Vp

        ## source population: P90 excitatory.
        # to: P90, excitatory and inhibitory
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          connection: intralaminar_AMPA_d0_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_exc
          target_layer: Vp_L4_P90
          connection: intralaminar_AMPA_L4_d0_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Vp_L56_P90
          connection: intralaminar_AMPA_d0_Vp
        # to: P45, excitatory and inhibitory
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_exc
          target_layer: Vp_L4_P45
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Vp_L56_P45
          connection: intralaminar_AMPA_d45_Vp
        # to: P135, excitatory and inhibitory
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_exc
          target_layer: Vp_L4_P135
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Vp_L56_P135
          connection: intralaminar_AMPA_d45_Vp
        # to: P00, excitatory and inhibitory
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          connection: intralaminar_AMPA_d90_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_exc
          target_layer: Vp_L4_P00
          connection: intralaminar_AMPA_L4_d90_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Vp_L56_P00
          connection: intralaminar_AMPA_d90_Vp

        ## source population: P135 excitatory.
        # to: P135, excitatory and inhibitory
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          connection: intralaminar_AMPA_d0_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_exc
          target_layer: Vp_L4_P135
          connection: intralaminar_AMPA_L4_d0_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Vp_L56_P135
          connection: intralaminar_AMPA_d0_Vp
        # to: P00, excitatory and inhibitory
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_exc
          target_layer: Vp_L4_P00
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Vp_L56_P00
          connection: intralaminar_AMPA_d45_Vp
        # to: P90, excitatory and inhibitory
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          connection: intralaminar_AMPA_d45_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_exc
          target_layer: Vp_L4_P90
          connection: intralaminar_AMPA_L4_d45_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Vp_L56_P90
          connection: intralaminar_AMPA_d45_Vp
        # to: P45, excitatory and inhibitory
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          connection: intralaminar_AMPA_d90_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_exc
          target_layer: Vp_L4_P45
          connection: intralaminar_AMPA_L4_d90_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Vp_L56_P45
          connection: intralaminar_AMPA_d90_Vp



        ### intralaminar_NMDA (partial selectivity)
        ### L23 exc to L23 exc
        # source: P00
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_NMDA_d0_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_NMDA_d90_Vp
        # source: P45
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_NMDA_d0_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_NMDA_d90_Vp
        # source: P90
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_NMDA_d0_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_NMDA_d90_Vp
        # source: P135
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_NMDA_d0_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_NMDA_d45_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_NMDA_d90_Vp

        ## interlaminar_AMPA
        # L23 exc to L56_exc and L56_inh (all P, full selectivity)
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L56_P00
          connection: interlaminar_AMPA_L23_to_L56_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L56_P45
          connection: interlaminar_AMPA_L23_to_L56_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L56_P90
          connection: interlaminar_AMPA_L23_to_L56_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L56_P135
          connection: interlaminar_AMPA_L23_to_L56_Vp
        # L4 exc to L2_exc and L2_inh (all P, full selectivity)
        - source_layer: Vp_L4_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          connection: interlaminar_AMPA_Vp
        # L56 exc to L23_exc and L23_inh (all P, full selectivity)
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Vp_L23_P00
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Vp_L23_P45
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Vp_L23_P90
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Vp_L23_P135
          connection: interlaminar_AMPA_Vp
        # L56 exc to L4_exc and L4_inh (all P, full selectivity)
        - source_layer: Vp_L56_P00
          source_population: Vp_exc
          target_layer: Vp_L4_P00
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_exc
          target_layer: Vp_L4_P45
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_exc
          target_layer: Vp_L4_P90
          connection: interlaminar_AMPA_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_exc
          target_layer: Vp_L4_P135
          connection: interlaminar_AMPA_Vp

        ## Interlaminar NMDA
        # L23 exc to L56 exc, (all P, full selectivity
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vp_L56_P00
          target_population: Vp_exc
          connection: interlaminar_NMDA_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vp_L56_P45
          target_population: Vp_exc
          connection: interlaminar_NMDA_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vp_L56_P90
          target_population: Vp_exc
          connection: interlaminar_NMDA_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_exc
          target_layer: Vp_L56_P135
          target_population: Vp_exc
          connection: interlaminar_NMDA_Vp

        ### Intralaminar GABA_A
        ## L23
        ## L23 inh to L23 exc (no selectivity)
        # source: P00
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P45
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P90
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P135
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # L23 inh to L23 inh (no selectivity)
        # source: P00
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P45
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P90
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P135
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # ## L4
        ## L4 inh to L4 exc (no selectivity)
        # source: P00
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P45
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P90
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P135
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # L4 inh to L4 inh (no selectivity)
        # source: P00
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P45
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P90
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P135
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L4_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp

        ## L56
        # L56 inh to L56 exc (no selectivity)
        # source: P00
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P45
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P90
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # source: P135
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_exc
          connection: intralaminar_GABA_A_to_exc_Vp
        # L56 inh to L56 inh (no selectivity)
        # source: P00
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P45
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P90
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        # source: P135
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp
        - source_layer: Vp_L56_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_inh
          connection: intralaminar_GABA_A_to_inh_Vp


        ## Interlaminar GABA_B
        # From L23_inh to all layer exc, full selectivity
        # To L23
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        # To L4
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L4_P00
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L4_P45
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L4_P90
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L4_P135
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        # To L56
        - source_layer: Vp_L23_P00
          source_population: Vp_inh
          target_layer: Vp_L56_P00
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P45
          source_population: Vp_inh
          target_layer: Vp_L56_P45
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P90
          source_population: Vp_inh
          target_layer: Vp_L56_P90
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp
        - source_layer: Vp_L23_P135
          source_population: Vp_inh
          target_layer: Vp_L56_P135
          target_population: Vp_exc
          connection: interlaminar_GABA_B_Vp


        ####################################
        ###### Intra-areal secondary #######
        ####################################

        ### intralaminar_AMPA. (partial selectivity)
        # P+ same all layers
        # P+ excitatory to P+ excitatory and P+ inhibitory
        - source_layer: Vs_L23_P+
          source_population: Vs_exc
          target_layer: Vs_L23_P+
          connection: intralaminar_AMPA_same_Vs
        - source_layer: Vs_L4_P+
          source_population: Vs_exc
          target_layer: Vs_L4_P+
          connection: intralaminar_AMPA_L4_same_Vs
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Vs_L56_P+
          connection: intralaminar_AMPA_same_Vs
        # P+ other all layers
        # P+ excitatory to Px excitatory and Px inhibitory
        - source_layer: Vs_L23_P+
          source_population: Vs_exc
          target_layer: Vs_L23_Px
          connection: intralaminar_AMPA_other_Vs
        - source_layer: Vs_L4_P+
          source_population: Vs_exc
          target_layer: Vs_L4_Px
          connection: intralaminar_AMPA_L4_other_Vs
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Vs_L56_Px
          connection: intralaminar_AMPA_other_Vs
        # Px same all layers
        # Px excitatory to Px excitatory and Px inhibitory
        - source_layer: Vs_L23_Px
          source_population: Vs_exc
          target_layer: Vs_L23_Px
          connection: intralaminar_AMPA_same_Vs
        - source_layer: Vs_L4_Px
          source_population: Vs_exc
          target_layer: Vs_L4_Px
          connection: intralaminar_AMPA_L4_same_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vs_L56_Px
          connection: intralaminar_AMPA_same_Vs
        # Px other all layers
        # Px excitatory to P+ excitatory and P+ inhibitory
        - source_layer: Vs_L23_Px
          source_population: Vs_exc
          target_layer: Vs_L23_P+
          connection: intralaminar_AMPA_other_Vs
        - source_layer: Vs_L4_Px
          source_population: Vs_exc
          target_layer: Vs_L4_P+
          connection: intralaminar_AMPA_L4_other_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vs_L56_P+
          connection: intralaminar_AMPA_other_Vs


        ## intralaminar_NMDA
        # L23 exc to L23 exc (partial selectivity)
        # same
        - source_layer: Vs_L23_P+
          source_population: Vs_exc
          target_layer: Vs_L23_P+
          target_population: Vs_exc
          connection: intralaminar_NMDA_same_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_exc
          target_layer: Vs_L23_Px
          target_population: Vs_exc
          connection: intralaminar_NMDA_same_Vs
        # other
        - source_layer: Vs_L23_P+
          source_population: Vs_exc
          target_layer: Vs_L23_Px
          target_population: Vs_exc
          connection: intralaminar_NMDA_other_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_exc
          target_layer: Vs_L23_P+
          target_population: Vs_exc
          connection: intralaminar_NMDA_other_Vs


        ## interlaminar_AMPA
        # L23 exc to L56_exc and L56_inh (full selectivity)
        - source_layer: Vs_L23_P+
          source_population: Vs_exc
          target_layer: Vs_L56_P+
          connection: interlaminar_AMPA_L23_to_L56_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_exc
          target_layer: Vs_L56_Px
          connection: interlaminar_AMPA_L23_to_L56_Vs
        # L4 exc to L2_exc and L2_inh (full selectivity)
        - source_layer: Vs_L4_P+
          source_population: Vs_exc
          target_layer: Vs_L23_P+
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L4_Px
          source_population: Vs_exc
          target_layer: Vs_L23_Px
          connection: interlaminar_AMPA_Vs
        # L56 exc to L23_exc and L23_inh (full selectivity)
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Vs_L23_P+
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vs_L23_Px
          connection: interlaminar_AMPA_Vs
        # L56 exc to L4_exc and L4_inh (full selectivity)
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Vs_L4_P+
          connection: interlaminar_AMPA_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vs_L4_Px
          connection: interlaminar_AMPA_Vs

        ## Interlaminar NMDA
        # L23 exc to L56 exc, full selectivity
        - source_layer: Vs_L23_P+
          source_population: Vs_exc
          target_layer: Vs_L56_P+
          target_population: Vs_exc
          connection: interlaminar_NMDA_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_exc
          target_layer: Vs_L56_Px
          target_population: Vs_exc
          connection: interlaminar_NMDA_Vs

        ## Intralaminar GABA_A
        # L23
        # L23 inh to L23 exc (no selectivity)
        - source_layer: Vs_L23_P+
          source_population: Vs_inh
          target_layer: Vs_L23_P+
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_P+
          source_population: Vs_inh
          target_layer: Vs_L23_Px
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_inh
          target_layer: Vs_L23_Px
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_inh
          target_layer: Vs_L23_P+
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        # L23 inh to L23 inh (no selectivity
        - source_layer: Vs_L23_P+
          source_population: Vs_inh
          target_layer: Vs_L23_P+
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_P+
          source_population: Vs_inh
          target_layer: Vs_L23_Px
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_inh
          target_layer: Vs_L23_Px
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_inh
          target_layer: Vs_L23_P+
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        # L4
        # L4 inh to L4 exc (no selectivity)
        - source_layer: Vs_L4_P+
          source_population: Vs_inh
          target_layer: Vs_L4_P+
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_P+
          source_population: Vs_inh
          target_layer: Vs_L4_Px
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_Px
          source_population: Vs_inh
          target_layer: Vs_L4_Px
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L4_Px
          source_population: Vs_inh
          target_layer: Vs_L4_P+
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        # L4 inh to L4 inh (no selectivity)
        - source_layer: Vs_L4_P+
          source_population: Vs_inh
          target_layer: Vs_L4_P+
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_P+
          source_population: Vs_inh
          target_layer: Vs_L4_Px
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_Px
          source_population: Vs_inh
          target_layer: Vs_L4_Px
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L4_Px
          source_population: Vs_inh
          target_layer: Vs_L4_P+
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        # L56
        # L56 inh to L56 exc (no selectivity)
        - source_layer: Vs_L56_P+
          source_population: Vs_inh
          target_layer: Vs_L56_P+
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_P+
          source_population: Vs_inh
          target_layer: Vs_L56_Px
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_inh
          target_layer: Vs_L56_Px
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_inh
          target_layer: Vs_L56_P+
          target_population: Vs_exc
          connection: intralaminar_GABA_A_to_exc_Vs
        # L56 inh to L56 inh (no selectivity)
        - source_layer: Vs_L56_P+
          source_population: Vs_inh
          target_layer: Vs_L56_P+
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_P+
          source_population: Vs_inh
          target_layer: Vs_L56_Px
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_inh
          target_layer: Vs_L56_Px
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs
        - source_layer: Vs_L56_Px
          source_population: Vs_inh
          target_layer: Vs_L56_P+
          target_population: Vs_inh
          connection: intralaminar_GABA_A_to_inh_Vs


        ## Interlaminar GABA_B
        # From L23_inh to all layer exc, full selectivity
        - source_layer: Vs_L23_P+
          source_population: Vs_inh
          target_layer: Vs_L23_P+
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_inh
          target_layer: Vs_L23_Px
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_P+
          source_population: Vs_inh
          target_layer: Vs_L4_P+
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_inh
          target_layer: Vs_L4_Px
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_P+
          source_population: Vs_inh
          target_layer: Vs_L56_P+
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs
        - source_layer: Vs_L23_Px
          source_population: Vs_inh
          target_layer: Vs_L56_Px
          target_population: Vs_exc
          connection: interlaminar_GABA_B_Vs


        ########################################################################
        ##########################     Inter-areal       #######################
        ########################################################################

        ####################################
        ###### Primary to Secondary  #######
        ####################################

        # P+
        #Vp_L23_P00 and P90 to Vs_L4_P+ excitatory and inhibitory
        - source_layer: Vp_L23_P00
          source_population: Vp_exc
          target_layer: Vs_L4_P+
          connection: Vp_Vs_forward_P+_from_P00
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vs_L4_P+
          connection: Vp_Vs_forward_P+_from_P90
        # Px
        #Vp_L23_P45 and P135 to Vs_L4_P+ excitatory and inhibitory
        - source_layer: Vp_L23_P45
          source_population: Vp_exc
          target_layer: Vs_L4_Px
          connection: Vp_Vs_forward_Px_from_P45
        - source_layer: Vp_L23_P90
          source_population: Vp_exc
          target_layer: Vs_L4_Px
          connection: Vp_Vs_forward_Px_from_P135

        ####################################
        ###### Secondary to Primary  #######
        ####################################

        # Excitatory L56 to excitatory L23: NMDA
        # Vs_L56_P+ exc to Vp_L23_P00 and P90 exc
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Vp_L23_P00
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vp_L23_P90
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc
        # Vs_L56_Px exc to Vp_L23_P45 and P135 exc
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vp_L23_P45
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vp_L23_P135
          target_population: Vp_exc
          connection: Vp_Vs_backward_to_exc

        # Excitatory L56 to inhibitory L23: AMPA
        # Vs_L56_P+ exc to Vp_L23_P00 and P90 inh
        - source_layer: Vs_L56_P+
          source_population: Vs_exc
          target_layer: Vp_L23_P00
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vp_L23_P90
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
        # Vs_L56_Px exc to Vp_L23_P45 and P135 inh
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vp_L23_P45
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
        - source_layer: Vs_L56_Px
          source_population: Vs_exc
          target_layer: Vp_L23_P135
          target_population: Vp_inh
          connection: Vp_Vs_backward_to_inh
